
[ ] 用户管理
[ ] 管理员配置工具页每个工具的可见性(public, user_only, admin_only)。持续开发，持续在后端数据库记录配置。
[ ] LLM 对话界面，后端存储对话记录
[ ] Agent 编辑界面，编排复杂LLM Agent
[ ] 后端增加标准异步任务注册，自定义处理如图像生成任务追踪，文章TTS，定时爬虫等。
[ ] 相册
[ ] 按日历|时间线查看文章
[ ] wysiwyg markdown 编辑器


## 📋 用户管理页面规划

### 1. **页面架构设计**

基于现有的设计模式，建议采用以下结构：

```
📁 用户管理页面 (UserManagement.tsx)
├── 📊 用户统计卡片
├── 🔍 搜索和筛选
├── 📋 用户列表表格
└── 🛠️ 用户操作功能
```

### 2. **功能模块规划**

#### **2.1 用户统计面板**
```
┌─────────────────────────────────────────┐
│ 📊 用户统计                              │
├─────────────┬─────────────┬─────────────┤
│ 总用户数    │ 管理员数    │ 普通用户数   │
│    25      │     2      │     23      │
└─────────────┴─────────────┴─────────────┘
```

#### **2.2 用户列表表格**
| 头像 | 用户名 | 邮箱 | 角色 | 注册时间 | 操作 |
|------|--------|------|------|----------|------|
| 🖼️ | admin | admin@example.com | 管理员 | 2024-01-01 | 编辑/删除 |
| 🖼️ | user1 | user1@example.com | 普通用户 | 2024-01-02 | 编辑/删除 |

#### **2.3 用户操作功能**
- ✏️ **编辑用户**：修改用户名、邮箱、角色
- 🔑 **重置密码**：管理员可重置任意用户密码
- 🗑️ **删除用户**：删除非管理员用户（带确认对话框）
- 👥 **角色管理**：切换用户/管理员角色

### 3. **文件结构规划**

```
src/pages/
├── UserManagement.tsx          # 主页面组件
└── admin/
    └── UserManagement.tsx      # 可选：放在admin目录下

src/services/api/
└── AdminApiService.ts          # 新增管理员专用API服务

src/components/admin/
├── UserManagementTable.tsx     # 用户表格组件
├── UserEditDialog.tsx          # 用户编辑对话框
├── UserDeleteDialog.tsx        # 用户删除确认对话框
└── UserStatsCards.tsx          # 用户统计卡片
```

### 4. **API服务扩展**

需要新增的API服务方法：
```typescript
// AdminApiService.ts
class AdminApiService {
  // 获取所有用户列表
  async getAllUsers(): Promise<User[]>
  
  // 更新用户角色
  async updateUserRole(userId: string, role: 'admin' | 'user'): Promise<boolean>
  
  // 获取用户统计信息
  async getUserStats(): Promise<{
    total: number;
    admins: number;
    users: number;
  }>
}
```

### 5. **导航集成**

#### **5.1 Dashboard页面集成**
在现有的Dashboard页面添加管理员专区：

```typescript
// Dashboard.tsx 中添加
{user.role === 'admin' && (
  <Card>
    <CardHeader>
      <CardTitle>管理员功能</CardTitle>
    </CardHeader>
    <CardContent>
      <Button onClick={() => navigate('/admin/users')}>
        <Users className="w-4 h-4 mr-2" />
        用户管理
      </Button>
    </CardContent>
  </Card>
)}
```

#### **5.2 路由配置**
```typescript
// App.tsx 中添加路由
<Route 
  path="/admin/users" 
  element={
    <ProtectedRoute requireAdmin>
      <UserManagement />
    </ProtectedRoute>
  } 
/>
```

### 6. **UI设计规范**

基于现有的设计风格：
- 使用 `Card` 组件作为主要容器
- 使用 `Table` 组件展示用户列表
- 使用 `AlertDialog` 进行危险操作确认
- 使用 `Badge` 标识用户角色
- 保持与现有页面一致的色彩和间距

### 7. **权限控制**

#### **7.1 前端权限控制**
```typescript
// ProtectedRoute 扩展
interface ProtectedRouteProps {
  children: React.ReactNode;
  requireAdmin?: boolean;
}

// 在路由级别控制访问权限
```

#### **7.2 组件级权限控制**
```typescript
// 在组件内部检查权限
const { user } = useAuth();
if (user?.role !== 'admin') {
  return <Navigate to="/dashboard" replace />;
}
```

### 8. **实施计划**

1. **第一阶段**：基础框架搭建
   - 创建UserManagement页面基础结构
   - 添加路由和权限控制
   - 实现用户列表展示

2. **第二阶段**：核心功能实现
   - 添加用户编辑功能
   - 实现密码重置功能
   - 添加用户删除功能

3. **第三阶段**：体验优化
   - 添加搜索和筛选功能
   - 实现用户统计面板
   - 优化UI交互和错误处理

你希望我现在开始实施这个规划吗？我可以先从哪个部分开始？